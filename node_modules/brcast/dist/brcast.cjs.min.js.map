{"version":3,"file":"brcast.cjs.min.js","sources":["../index.js"],"sourcesContent":["export default function createBroadcast (initialState) {\n  let listeners = {}\n  let id = 0\n  let _state = initialState\n\n  const getState = () => _state\n\n  const setState = state => {\n    _state = state\n    Object.keys(listeners).forEach(id => listeners[id](_state))\n  }\n\n  const subscribe = listener => {\n    const currentId = id\n    listeners[currentId] = listener\n    id += 1\n    return function unsubscribe () {\n      delete listeners[currentId]\n    }\n  }\n\n  return { getState, setState, subscribe }\n}\n"],"names":["createBroadcast","initialState","let","listeners","id","_state","getState","setState","state","Object","keys","forEach","subscribe","listener","const","currentId"],"mappings":"AAAe,QAASA,iBAAiBC,GACvCC,GAAIC,MACAC,EAAK,EACLC,EAASJ,CAkBb,QAASK,SAhBQ,iBAAMD,IAgBJE,SAdF,SAAAC,GACfH,EAASG,EACTC,OAAOC,KAAKP,GAAWQ,QAAQ,SAAAP,SAAMD,GAAUC,GAAIC,MAYxBO,UATX,SAAAC,GAChBC,GAAMC,GAAYX,CAGlB,OAFAD,GAAUY,GAAaF,EACvBT,GAAM,EACC,iBACED,GAAUY"}